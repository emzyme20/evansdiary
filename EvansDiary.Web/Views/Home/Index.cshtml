@using EvansDiary.Web.Diary.TransferObjects
@{
    ViewBag.Title = "Evan Middlebrook";
}

<section id="home" class="text-center">

    <div id="carousel-home" class="carousel slide" data-ride="carousel">

        <div class="carousel-inner">
            <div class="item active">

                <img src="http://res.cloudinary.com/dqg9nkccw/image/upload/c_fill,q_80/highjump-1392x630_dy7ubc.jpg" alt="Athletics Open Meet" />
                <div class="carousel-caption">
                    <h4 class="back-light">Evan performing at his very first athletics open meet</h4>
                </div>
            </div>
            <div class="item">
                <img src="http://res.cloudinary.com/dqg9nkccw/image/upload/c_fill,q_80/table-tennis-1392x630_k7bnan.jpg" alt="Table Tennis in Bath" />
                <div class="carousel-caption ">
                    <h4 class="back-light">Enjoying some family time in Bath City centre</h4>
                </div>
            </div>
            <div class="item">
                <img src="http://res.cloudinary.com/dqg9nkccw/image/upload/c_fill,q_80/triathalon-1392x630_bbqdau.jpg" alt="Kids Triathalon" />
                <div class="carousel-caption ">
                    <h4 class="back-light">Fund raising for Tusk Trust by completing in his first Kids Triathalon</h4>
                </div>
            </div>
            <div class="item">
                <img src="http://res.cloudinary.com/dqg9nkccw/image/upload/c_fill,q_80/fishing-1392x630_n7nr4r.jpg" alt="Sea Fishing" />
                <div class="carousel-caption ">
                    <h4 class="back-light">Fishing off the coast in Exmouth</h4>
                </div>
            </div>
        </div>

        <ol class="carousel-indicators">
            <li data-target="#carousel-home" data-slide-to="0" class="active"></li>
            <li data-target="#carousel-home" data-slide-to="1"></li>
            <li data-target="#carousel-home" data-slide-to="2"></li>
            <li data-target="#carousel-home" data-slide-to="3"></li>
        </ol>
    </div>
</section>
<!--/.SLIDESHOW END-->

<h3>Flipbook through the ages</h3>

<p>Here's a glimpse at Evan through the ages. Enjoy!</p>

<div id="rotating-item-wrapper">
    @*<img class="rotating-item" src="http://res.cloudinary.com/dqg9nkccw/image/upload/c_fill,w_285,q_80/.jpg" alt="flipbook image" width="980" height="347" />*@
    <img class="rotating-item" src="http://res.cloudinary.com/dqg9nkccw/image/upload/c_fill,w_285,q_80/w1_evan_peaceful_hqreul.jpg" alt="flipbook image"/>
    <img class="rotating-item" src="http://res.cloudinary.com/dqg9nkccw/image/upload/c_fill,w_285,q_80/w5_smiling_now_icxvs3.jpg" alt="flipbook image"/>
    <img class="rotating-item" src="http://res.cloudinary.com/dqg9nkccw/image/upload/c_fill,w_285,q_80/w16_commando_iucohe.jpg" alt="flipbook image"/>
    <img class="rotating-item" src="http://res.cloudinary.com/dqg9nkccw/image/upload/c_fill,w_285,q_80/w18_ooh_whassat_knacas.jpg" alt="flipbook image"/>
    <img class="rotating-item" src="http://res.cloudinary.com/dqg9nkccw/image/upload/c_fill,w_285,q_80/w28_cool_dude_d6c1du.jpg" alt="flipbook image"/>
    <img class="rotating-item" src="http://res.cloudinary.com/dqg9nkccw/image/upload/c_fill,w_285,q_80/w36_sand_feels_good_nd9v2f.jpg" alt="flipbook image"/>
    <img class="rotating-item" src="http://res.cloudinary.com/dqg9nkccw/image/upload/c_fill,w_285,q_80/w47_after_haircut_rp8ntl.jpg" alt="flipbook image"/>
    <img class="rotating-item" src="http://res.cloudinary.com/dqg9nkccw/image/upload/c_fill,w_285,q_80/mar_bed_hair_xcmrd3.jpg" alt="flipbook image"/>
    <img class="rotating-item" src="http://res.cloudinary.com/dqg9nkccw/image/upload/c_fill,w_285,q_80/jun_lovely_smile_hnyiew.jpg" alt="flipbook image"/>
    <img class="rotating-item" src="http://res.cloudinary.com/dqg9nkccw/image/upload/c_fill,w_285,q_80/aug_flying_closeup_kwuunw.jpg" alt="flipbook image"/>
    <img class="rotating-item" src="http://res.cloudinary.com/dqg9nkccw/image/upload/c_fill,w_285,q_80/nov_cute_hair_sk4ev7.jpg" alt="flipbook image"/>
    <img class="rotating-item" src="http://res.cloudinary.com/dqg9nkccw/image/upload/c_fill,w_285,q_80/apr_scar_smile_mse9by.jpg" alt="flipbook image"/>
    @*@{
            // Get Evan's actual age, using 2004 will give the age he will be this year.
            var realTimeYears = DateTime.Now.Year - 2005;

            for (var age = 1; age <= realTimeYears; age++)
            {
                for (var agePart = 1; agePart <= (age == 1 ? 6 : 3); agePart++)
                {
                    var ageImage = new AssociatedImage(string.Format("age{0}part{1}", age, agePart), "Age " + age);
                    <img class="rotating-item" src="@ageImage.GetUrl(null, null)" alt="@ageImage.Caption"/>

                }
            }
        }*@
</div>

@section PageScripts {

    <script type="text/javascript">

        // $(window).load runs after HTML and images have loaded. 
        // $(function () {} (document ready) runs when the DOM is ready not including images.
        $(window).load(function() {
            var infiniteRotator =
            {
                init: function() {
                    // initial fade-in time (in milliseconds)
                    var initialFadeIn = 1000;

                    // interval between items (in milliseconds)
                    var itemInterval = 2500;

                    // cross-fade time (in milliseconds)
                    var fadeTime = 1000;

                    // count number of items
                    var numberOfItems = $('.rotating-item').length;

                    // set current item
                    var currentItem = 0;

                    // show first item
                    $('.rotating-item').eq(currentItem).fadeIn(initialFadeIn);

                    // loop through the items
                    var infiniteLoop = setInterval(function() {
                        $('.rotating-item').eq(currentItem).fadeOut(fadeTime);

                        if (currentItem == numberOfItems - 1) {
                            currentItem = 0;
                        } else {
                            currentItem++;
                        }
                        $('.rotating-item').eq(currentItem).fadeIn(fadeTime);

                    }, itemInterval);
                }
            };

            infiniteRotator.init();
        });

    </script>
}